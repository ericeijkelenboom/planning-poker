<head>
  <meta charset="utf-8">
  <title>Distributed planning poker</title>
  <meta name="description" content="Distributed planning poker">
  <meta name="author" content="Eric Eijkelenboom">

  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <link rel="shortcut icon" href="/images/favicon.png">
  <link rel="apple-touch-icon" sizes="57x57" href="/images/apple-touch-icon.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/images/apple-touch-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/images/apple-touch-icon-114x114.png">

  <link rel="stylesheet" href="style.css">
  <!--[if lt IE 9]>
    <script src="js/shiv.js"></script>
  <![endif]-->
</head>

<body>	
  	{{renderPage}}
</body>

<template name="home">
  <h1>Online, distributed planning poker</h1>
  
  <div class="row">
	<div id="error" class="span12"></div>
    <div class="span6">New session <button class="btn btn-default" id="create">Create</button> </div>
    <div class="span6">Join session
	  <input id="storyid" type="text" step="1" oninvalid="setCustomValidity('A story number consists of digits only')" placeholder="Story ID" />
	  <button class="btn btn-default" id="join" >Join</button>
	</div>
  </div>
	
</template>

<template name="story">	
    <div>
    	Story {{_id}}. 
    	{{#if completed}}
    		Done.
		{{else}}
			{{active_players.length}} active players
		{{/if}}
	</div>
	<div>
		Cards: <br/>
		{{#each cards}}
			<div class="available-card"><a href='#'>{{this}}</a></div>
		{{/each}}
	</div>
	
	{{#if i_am_moderator}}
		<button class="btn btn-default" id="force_show" >Force show</button> 
	{{/if}}
	
	{{#if done}}
		<div id="estimates-container">
			Estimates:<br/>     	
	    
	    	{{#each active_players}}
				{{#if is_valid_estimate estimate}}
					<div>{{estimate}}</div>
				{{else}}
					<div>No estimate given</div>
				{{/if}}
		    {{/each}}
		    
		    {{#if i_am_moderator}}
		    	<button class="btn btn-default" id="create_new">Create new story</button>
		    {{/if}}
	    </div>
    {{/if}}
</template>

<template name="storyNotFound">
	Story not found
</template>

<template name="test">
	test
</template>
